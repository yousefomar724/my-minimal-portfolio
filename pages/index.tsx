import type { GetStaticProps, NextPage } from 'next'
import Head from 'next/head'
import { Profile, FavIcon, Content } from '../components'
import TopbarWithNoSSR from '../components/topbarWithNoSSR'
import { getHomePosts } from '../services'
import { Post, Project } from '../types'

export const getStaticProps: GetStaticProps = async () => {
  const { posts, projects } = (await getHomePosts()) || []
  return {
    props: { posts, projects },
  }
}

const Home: NextPage<{ posts: Post[]; projects: Project[] }> = (props) => {
  return (
    <div>
      <Head>
        <title>Yousef Omar</title>
        <meta name='description' content='Generated by create next app' />
        <FavIcon />
      </Head>
      <header className='profile container'>
        <TopbarWithNoSSR />
        <Profile />
      </header>
      <Content data={props} />
      <footer className='footer container'>
        <span className='footer__copy'>
          &#169; Yousef Omar. All rigths reserved
        </span>
      </footer>
    </div>
  )
}
export default Home
