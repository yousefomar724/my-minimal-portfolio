import type { GetStaticProps, NextPage } from 'next'
import Head from 'next/head'
import { Content, Footer, FavIcon, Header } from '../components'
import { getPosts } from '../services'
import { Edge } from '../types'

const Home: NextPage<{ posts: Edge[] }> = (props) => {
  return (
    <div>
      <Head>
        <title>Yousef Omar</title>
        <meta name='description' content='Generated by create next app' />
        <FavIcon />
      </Head>
      <Header />
      <Content posts={props.posts} />
      <Footer />
    </div>
  )
}
export default Home

export const getStaticProps: GetStaticProps = async () => {
  const posts = (await getPosts()) || []
  return {
    props: { posts },
  }
}
